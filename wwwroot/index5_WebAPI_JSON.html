<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Product App（Client端的首頁）</title>

    <!-- Client端的程式  如下 -->
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript">
        $(function () {
                    $("#btnGet").click(function () {
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",

                            url: "/api/HomeDB/",
                            //url: "https://localhost:7279/api/HomeDB/",      // 請自行修改URL

                            data: { 'UserName': '神雕大俠', 'UserId': '4' },  // 傳送給 Server的格式

                            success: function (response) {
                                alert("Hello：" + response.user + "  .\n傳回的結果： " + response.token);   // 傳回值。需要跟WebAPI傳回的變數名稱一模一樣
                            },
                            failure: function (response) {
                                alert("[failure #1]：\n" + response.responseText);
                            },
                            error: function (response) {
                                alert("[error #2]：\n" + response.responseText);
                            }
                        });
                    });
        });
        // https://www.aspsnippets.com/Articles/Call-ASPNet-Core-Web-API-using-jQuery-AJAX.aspx
        // https://github.com/rajabb/MvcCore6JsonUploadSample
    </script>

</head>
<body>
    <h3>Client端呼叫 WebAPI #5 -- </h3>
    ****************************************************<br />
    資料來源 https://www.aspsnippets.com/Articles/jQuery-AJAX-Post-JSON-data-to-Web-API-in-ASPNet-MVC.aspx
    <br />

    <div>
        <h3>請使用瀏覽器的 F12來觀察結果</h3>
        ID編號：<input type="text" id="prodId" value="1" />  <br />

        <input type="button" id="btnGet" value="請按我！" />
    </div>

</body>
</html >
